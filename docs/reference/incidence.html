<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute incidence of events from a vector of dates. — incidence • incidence</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">incidence</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute incidence of events from a vector of dates.</h1>
    </div>

    
    <p>This function computes incidence based on dates of events provided in
various formats. A fixed interval, provided as numbers of days, is used to
define time intervals. Counts within an interval always include the first
date, after which they are labelled, and exclude the second. For instance,
intervals labelled as 0,3,6,... mean that the first bin includes days 0, 1
and 2, the second interval includes 3, 4 and 5m etc.</p>
    

    <pre><span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for integer</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>na_as_group</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>na_as_group</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for numeric</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for Date</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for POSIXt</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for incidence</span>
<span class='fu'>print</span>(<span class='no'>x</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>dates</dt>
      <dd>A vector of dates, which can be provided as objects of the
class: integer, numeric, Date, POSIXct. Note that decimal numbers will be
floored with a warning.</dd>
      <dt>interval</dt>
      <dd>An integer indicating the (fixed) size of the time interval
used for computing the incidence; defaults to 1 day.</dd>
      <dt>...</dt>
      <dd>Additional arguments passed to other methods (none are used).</dd>
      <dt>groups</dt>
      <dd>An optional factor defining groups of observations for which
incidence should be computed separately.</dd>
      <dt>na_as_group</dt>
      <dd>A logical indicating if missing group (NA) should be
treated as a separate group.</dd>
      <dt>x</dt>
      <dd>An &#39;incidence&#39; object.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An list with the class <code>incidence</code>, which contains the
following items:</p>
    <p><ul>
<li> dates: The dates marking the left side of the bins used for counting
evens.</p>
    <p></li>
<li> counts: A matrix of incidence counts, which one column per group (and
a single column if no groups were used).</p>
    <p></li>
<li> timespan: The length of the period for which incidence is computed, in
days.</p>
    <p></li>
<li> interval: The bin size, in number of days; e.g. 7 indicates weekly
incidence.</p>
    <p></li>
<li> n: The total number of cases.</p>
    <p></li>
</ul></p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For details about the <code>incidence class</code>, see the dedicated
vignette: <code>vignette(&quot;incidence_class&quot;, package = &quot;incidence&quot;)</code></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>The main other functions of the package include:
<ul>
<li> <code><a href='fit.html'>fit</a></code>: Fit log-linear model to computed incidence.</p>
    <p></li>
<li> <code><a href='fit.html'>fit_optim_split</a></code>: Find the optimal peak of the epidemic
and fits log-linear models on either side of the peak.</p>
    <p></li>
<li> <code>subset</code>: Handling of <code>incidence</code>
objects.</p>
    <p></li>
<li> <code><a href='pool.html'>pool</a></code>: Sum incidence over groups.</p>
    <p></li>
<li> <code>as.data.frame</code>: Convert an <code>incidence</code> object to a
<code>data.frame</code>.</li>
</ul></p>
    <p>The following vignettes are also available:
<ul>
<li> <code>overview</code>: Provides an overview of the package&#39;s features.</p>
    <p></li>
<li> <code>customize_plot</code>: Provides some tips on finer plot customization.</p>
    <p></li>
<li> <code>incidence_class</code>: Details the content of the <code>incidence</code>
class.</p>
    <p></li>
</ul></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## toy example</span>
<span class='fu'>incidence</span>(<span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>8</span>, <span class='fl'>3</span>, <span class='fl'>7</span>, <span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>6</span>, <span class='fl'>9</span>, <span class='fl'>2</span>))</div><div class='output co'>#&gt; <span class='message'>Dates stored as decimal numbers were floored.</span></div><div class='output co'>#&gt; &lt;incidence object&gt;
#&gt; [10 cases from days 1 to 9]
#&gt; 
#&gt; $counts: matrix with 9 rows and 1 columns
#&gt; $n: 10 cases in total
#&gt; $dates: 9 dates marking the left-side of bins
#&gt; $interval: 1 day
#&gt; $timespan: 9 days
#&gt; </div><div class='input'><span class='fu'>incidence</span>(<span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>8</span>, <span class='fl'>3</span>, <span class='fl'>7</span>, <span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>6</span>, <span class='fl'>9</span>, <span class='fl'>2</span>), <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>Dates stored as decimal numbers were floored.</span></div><div class='output co'>#&gt; &lt;incidence object&gt;
#&gt; [10 cases from days 1 to 9]
#&gt; 
#&gt; $counts: matrix with 5 rows and 1 columns
#&gt; $n: 10 cases in total
#&gt; $dates: 5 dates marking the left-side of bins
#&gt; $interval: 2 days
#&gt; $timespan: 9 days
#&gt; </div><div class='input'>
<span class='co'>## example using simulated dataset</span>
<span class='kw'>if</span>(<span class='fu'>require</span>(<span class='no'>outbreaks</span>)) {
  <span class='no'>onset</span> <span class='kw'>&lt;-</span> <span class='no'>ebola.sim</span>$<span class='no'>linelist</span>$<span class='no'>date.of.onset</span>

  <span class='co'>## daily incidence</span>
  <span class='no'>inc</span> <span class='kw'>&lt;-</span> <span class='fu'>incidence</span>(<span class='no'>onset</span>)
  <span class='no'>inc</span>
  <span class='fu'>plot</span>(<span class='no'>inc</span>)

  <span class='co'>## weekly incidence</span>
  <span class='no'>inc.week</span> <span class='kw'>&lt;-</span> <span class='fu'>incidence</span>(<span class='no'>onset</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>7</span>)
  <span class='no'>inc.week</span>
  <span class='fu'>plot</span>(<span class='no'>inc.week</span>)
  <span class='fu'>plot</span>(<span class='no'>inc.week</span>, <span class='kw'>border</span> <span class='kw'>=</span> <span class='st'>"white"</span>) <span class='co'># with visible border</span>
  <span class='co'>## use group information</span>
  <span class='no'>sex</span> <span class='kw'>&lt;-</span> <span class='no'>ebola.sim</span>$<span class='no'>linelist</span>$<span class='no'>gender</span>
  <span class='no'>inc.week.gender</span> <span class='kw'>&lt;-</span> <span class='fu'>incidence</span>(<span class='no'>onset</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>7</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='no'>sex</span>)
  <span class='no'>inc.week.gender</span>
  <span class='fu'>head</span>(<span class='no'>inc.week.gender</span>$<span class='no'>counts</span>)
  <span class='fu'>plot</span>(<span class='no'>inc.week.gender</span>)
}</div><img src='incidence-8.png' alt='' width='540' height='400' /><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Thibaut Jombart, Rich Fitzjohn

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thibaut Jombart, Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
