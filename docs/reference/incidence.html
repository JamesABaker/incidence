<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute incidence of events from a vector of dates. — incidence • incidence</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Compute incidence of events from a vector of dates. — incidence" />

<meta property="og:description" content="This function computes incidence based on dates of events provided in
various formats. A fixed interval, provided as numbers of days, is used to
define time intervals. Counts within an interval always include the first
date, after which they are labelled, and exclude the second. For instance,
intervals labelled as 0, 3, 6, ... mean that the first bin includes days 0, 1
and 2, the second interval includes 3, 4 and 5 etc." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">incidence</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/conversions.html">Conversions to and from the incidence class</a>
    </li>
    <li>
      <a href="../articles/customize_plot.html">Customize plots of incidence</a>
    </li>
    <li>
      <a href="../articles/incidence_class.html">Details of the incidence class</a>
    </li>
    <li>
      <a href="../articles/overview.html">Overview of the incidence package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute incidence of events from a vector of dates.</h1>
    
    <div class="hidden name"><code>incidence.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function computes incidence based on dates of events provided in
various formats. A fixed interval, provided as numbers of days, is used to
define time intervals. Counts within an interval always include the first
date, after which they are labelled, and exclude the second. For instance,
intervals labelled as 0, 3, 6, ... mean that the first bin includes days 0, 1
and 2, the second interval includes 3, 4 and 5 etc.</p>
    
    </div>

    <pre class="usage"><span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for integer</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>na_as_group</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>last_date</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>na_as_group</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>last_date</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for numeric</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for Date</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='kw'>iso_week</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>last_date</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for POSIXt</span>
<span class='fu'>incidence</span>(<span class='no'>dates</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for incidence</span>
<span class='fu'>print</span>(<span class='no'>x</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dates</th>
      <td><p>A vector of dates, which can be provided as objects of the
class: integer, numeric, Date, POSIXct. Note that decimal numbers will be
floored with a warning.</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>An integer indicating the (fixed) size of the time interval
used for computing the incidence; defaults to 1 day.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to other methods (none are used).</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>An optional factor defining groups of observations for which
incidence should be computed separately.</p></td>
    </tr>
    <tr>
      <th>na_as_group</th>
      <td><p>A logical value indicating if missing group (NA) should be
treated as a separate group.</p></td>
    </tr>
    <tr>
      <th>last_date</th>
      <td><p>The last date to be included in the produced epicurve. If
<code>NULL</code> (default), the last date will be the most recent provided in
<code>dates</code>.</p></td>
    </tr>
    <tr>
      <th>iso_week</th>
      <td><p>A logical value indicating if dates of the weekly incidence
should be using ISO week. Only applies when <code>interval = 7</code>. Defaults
to be TRUE.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>An 'incidence' object.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An list with the class <code>incidence</code>, which contains the
following items:</p>
<ul>
<li><p>dates: The dates marking the left side of the bins used for counting
events. When ISO week-based weekly incidence is computed, the dates are the
first days of corresponding isoweeks.</p></li>
<li><p>counts: A matrix of incidence counts, which one column per group (and
a single column if no groups were used).</p></li>
<li><p>timespan: The length of the period for which incidence is computed, in
days.</p></li>
<li><p>interval: The bin size, in number of days; e.g. 7 indicates weekly
incidence.</p></li>
<li><p>n: The total number of cases.</p></li>
<li><p>isoweeks: ISO 8601 week format yyyy-Www, which is returned only when
ISO week-based weekly incidence is computed.</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For details about the <code>incidence class</code>, see the dedicated
vignette:<br /> <code><a href='../articles/incidence_class.html'>vignette("incidence_class", package = "incidence")</a></code></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>The main other functions of the package include:</p><ul>
<li><p><code><a href='fit.html'>fit</a></code>: Fit log-linear model to computed incidence.</p></li>
<li><p><code><a href='fit.html'>fit_optim_split</a></code>: Find the optimal peak of the epidemic
and fits log-linear models on either side of the peak.</p></li>
<li><p><code>subset</code>: Handling of <code>incidence</code>
objects.</p></li>
<li><p><code><a href='pool.html'>pool</a></code>: Sum incidence over groups.</p></li>
<li><p><code>as.data.frame</code>: Convert an <code>incidence</code> object to a
<code>data.frame</code>.</p></li>
</ul></div>
    <div class='dont-index'><p>The following vignettes are also available:</p><ul>
<li><p><code>overview</code>: Provides an overview of the package's features.</p></li>
<li><p><code>customize_plot</code>: Provides some tips on finer plot customization.</p></li>
<li><p><code>incidence_class</code>: Details the content of the <code>incidence</code>
class.</p></li>
</ul></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## toy example</span>
<span class='fu'>incidence</span>(<span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>8</span>, <span class='fl'>3</span>, <span class='fl'>7</span>, <span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>6</span>, <span class='fl'>9</span>, <span class='fl'>2</span>))</div><div class='output co'>#&gt; &lt;incidence object&gt;
#&gt; [10 cases from days 1 to 9]
#&gt; 
#&gt; $counts: matrix with 9 rows and 1 columns
#&gt; $n: 10 cases in total
#&gt; $dates: 9 dates marking the left-side of bins
#&gt; $interval: 1 day
#&gt; $timespan: 9 days
#&gt; $cumulative: FALSE
#&gt; </div><div class='input'><span class='fu'>incidence</span>(<span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>8</span>, <span class='fl'>3</span>, <span class='fl'>7</span>, <span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>6</span>, <span class='fl'>9</span>, <span class='fl'>2</span>), <span class='fl'>2</span>)</div><div class='output co'>#&gt; &lt;incidence object&gt;
#&gt; [10 cases from days 1 to 9]
#&gt; 
#&gt; $counts: matrix with 5 rows and 1 columns
#&gt; $n: 10 cases in total
#&gt; $dates: 5 dates marking the left-side of bins
#&gt; $interval: 2 days
#&gt; $timespan: 9 days
#&gt; $cumulative: FALSE
#&gt; </div><div class='input'>
<span class='co'>## example using simulated dataset</span>
<span class='kw'>if</span>(<span class='fu'>require</span>(<span class='no'>outbreaks</span>)) {
  <span class='no'>onset</span> <span class='kw'>&lt;-</span> <span class='no'>ebola_sim</span>$<span class='no'>linelist</span>$<span class='no'>date_of_onset</span>

  <span class='co'>## daily incidence</span>
  <span class='no'>inc</span> <span class='kw'>&lt;-</span> <span class='fu'>incidence</span>(<span class='no'>onset</span>)
  <span class='no'>inc</span>
  <span class='fu'>plot</span>(<span class='no'>inc</span>)

  <span class='co'>## weekly incidence</span>
  <span class='no'>inc.week</span> <span class='kw'>&lt;-</span> <span class='fu'>incidence</span>(<span class='no'>onset</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>7</span>, <span class='kw'>iso_week</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
  <span class='no'>inc.week</span>
  <span class='fu'>plot</span>(<span class='no'>inc.week</span>)
  <span class='fu'>plot</span>(<span class='no'>inc.week</span>, <span class='kw'>border</span> <span class='kw'>=</span> <span class='st'>"white"</span>) <span class='co'># with visible border</span>
  <span class='no'>inc.isoweek</span> <span class='kw'>&lt;-</span> <span class='fu'>incidence</span>(<span class='no'>onset</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>7</span>, <span class='kw'>iso_week</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
  <span class='no'>inc.isoweek</span>
  <span class='co'>## use group information</span>
  <span class='no'>sex</span> <span class='kw'>&lt;-</span> <span class='no'>ebola_sim</span>$<span class='no'>linelist</span>$<span class='no'>gender</span>
  <span class='no'>inc.week.gender</span> <span class='kw'>&lt;-</span> <span class='fu'>incidence</span>(<span class='no'>onset</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>7</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='no'>sex</span>, <span class='kw'>iso_week</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
  <span class='no'>inc.week.gender</span>
  <span class='fu'>head</span>(<span class='no'>inc.week.gender</span>$<span class='no'>counts</span>)
  <span class='fu'>plot</span>(<span class='no'>inc.week.gender</span>)
  <span class='no'>inc.isoweek.gender</span> <span class='kw'>&lt;-</span> <span class='fu'>incidence</span>(<span class='no'>onset</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>7</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='no'>sex</span>, <span class='kw'>iso_week</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
  <span class='no'>inc.isoweek.gender</span>
}</div><div class='output co'>#&gt; &lt;incidence object&gt;
#&gt; [5888 cases from days 2014-04-07 to 2015-04-27]
#&gt; [5888 cases from ISO weeks 2014-W15 to 2015-W18]
#&gt; [2 groups: f, m]
#&gt; 
#&gt; $counts: matrix with 56 rows and 2 columns
#&gt; $n: 5888 cases in total
#&gt; $dates: 56 dates marking the left-side of bins
#&gt; $interval: 7 days
#&gt; $timespan: 386 days
#&gt; $cumulative: FALSE
#&gt; </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Thibaut Jombart, Rich Fitzjohn

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thibaut Jombart, Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

